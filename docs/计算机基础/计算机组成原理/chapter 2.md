---
tags: [计算机组成原理]
---

# 数据表示和运算

## 数的机器码表示
由符号和数值一起编码表示的二进制数,称为^^机器数^^或^^机器码^^

### 定点数的四种编码方式(原码,反码,补码与移码)
{++原码++} 正数符号位用0表示,负数符号位用1表示;数值位保持不变

- 有 `+0` 和 `-1`两个编码
    - `+0` 0000000.... `-0` 1000000...
    - 加减法实现不容易(符号位不能直接参加运算),目前只用在浮点数的{++尾数++}
        - 加法 "同号求和,异号求差"
        - 减法 "同号求差,异号求和"

![alt text](./images/原码表示.png)

{++反码++} 符号位规则和原码一致,当真值为正数的时候,反码与原码一致;当真值是负数的时候,反码{++数值位++}为真值数值位{++按位取反++}.

- $[x]_反$ + $\left|x\right|$ 的值为 `1111.....` 
- 有`+0`和`-0`
    - `+0` 00000...0, `-0` 1111...1
    - 加减法符号位可以直接参加运算
      - 加法为反码加法(循环进位-参考UDP校验和)
      - 减法运算转换为加法运算

![alt text](./images/反码表示.png)

{++补码++} 又称模2的补码 简单来说当真值大于等于0的时候,补码等于真值;若小于等于0,补码数据为等于{++真值数据为按位取反加一++}

![alt text](./images/补码示范.png)

- 只有唯一`0` 0000...0

{++移码++} 直接将真值x加一个常量偏移值(bias)

- 通常用在浮点数的阶码
- 移码可以{++直接参加比较++}
- 移码的{++符号位`0`表示负数,`1`表示正数++}
- 同一数值时,移码除符号位与补码相反外,其余完全一致
- 存在唯一`0` 0000...0

![alt text](./images/移码.png)

^^四种编码方式的总结^^

![alt text](./images/四种编码方式.png)

{++溢出++} 当数据超出机器所能表示的范围

- 当超出最大正数时,发生正上溢
- 小于最小负数,发生负下溢

![alt text](./images/定点数溢出.png)

### 浮点数表示方法 IEEE 754

{++IEEE 754单精度浮点数++}

![alt text](./images/单精度浮点数.png)

- S 表示符号位 0表示正数,1表示负数
- E 表示阶码 采用移码其偏移量为 ($2^7 - 1 = 127$)
- M 表示尾数 
    - 采用隐藏`1`方式,即尾数的实际有效位数为24位 1.xxxxxx(尾数)
    - 可以看做原码,符号与S一致

![alt text](./images/单精度表示的规范.png)

- 规格数的计算公式为 $N=(-1)^s\times 2^{E-bias}\times 1.M$ 其中bias=127
- 非规格数的计算公式为 $N=(-1)^s\times 2^{-126}\times 0.M$

![alt text](./images/单精度表示的数据范围.png)

- 浮点数的分布是{++不均匀的++}
- 浮点数不满足{--交换律--} 小数可能会被大数吸收
    - (大数a+小数b)-大数a $\neq$ (大数a-大数a)+小数b

{++单精度浮点数与真值的转换++}

![alt text](./images/单精度浮点数与真值的转换.png)

### 计算机中的数据表示


## 运算方法和运算器

### 位运算 (&,|,~,^)

- & 按位与 
- | 按位或
- ~ 按位取反
- ^ 按位异或

### 逻辑运算 (&&, || , !)

- && 逻辑与
- || 逻辑或
-  ! 逻辑非

### 移位运算 (>> 和 <<)

- `>>` 右移操作 
    - 等价于除2
    - 有算术右移(高位补充符号位)和逻辑右移两种(高位补充0)
- `<<` 左移操
    - 等价于乘2


### 算术运算 (+ - * /)
