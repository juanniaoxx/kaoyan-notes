---
tags: [计算机组成原理]
---

# 输入输出系统
## I/O设备与特性 与 I/O接口

## 程序控制方式
## 程序中断控制方式

![](./images/中断.png)

{++中断优先级和中断屏蔽字++}

- 中断优先级 CPU{++响应++}并{++处理++}中断请求的优先级
    - {++响应优先级++} CPU对各设备中断请求进行响应的先后次序,在硬件线路上是固定的,不便于改动
        - 不可屏蔽中断 > 内部异常 > 可屏蔽中断
        - 内部异常中硬件终止属于最高级,其次是指令异常或自陷等程序故障
        - DMA中断请求优于I/O设备传送的中断请求
        - 高速设备优于低速设备;输入设备优于输出设备;实时控制设备优于普通设备
    - {++处理优先级++} 中断嵌套的实际优先级处理次序,利用{++中断屏蔽技术++}动态调整
        - 若不采用中断屏蔽技术,则与响应优先级保持一致
{++中断屏蔽字++}

![alt text](./images/中断屏蔽字.png)

- 在终端控制器中设置一个中断屏蔽寄存器(IMR),其中的每一位对应一个设备的中断源
    - 为1的时候表示{++屏蔽++}对应设备的中断请求信号
    - 为0的时候表示{++允许++}对应设备的中断请求信号
        - 若允许多重中断则可以打断先去的中断处理程序
- CPU为每个设备分配{++不同++}的中断屏蔽字,CPU执行某设备的中断服务的时候回将该设备的中断屏蔽字载入IMR,所有中断请求回遇IMR中对应的位的值进行逻辑与

![alt text](./images/中断屏蔽技术.png)

- 通过调整中断屏蔽字可以将高响应优先级的中断进行屏蔽,从而提高低响应优先级的处理优先级
- {++中断屏蔽字只对CPU运行中断服务程序时的中断嵌套有用,并不具备改变CPU运行主程序时的中断响应优先级++}
    - 同时到达的多个为屏蔽中断,只能按照{++响应优先级++}进行处理

{++单级中断与多重中断++} 

![alt text](./images/多级中断.png)

- 区分二者并不是{--单级中断没有优先级;多级中断有优先级--}
- 而是多级中断的高优先级中断{++可以打断++}低优先级的中断

!!! example "中断优先级的示例"

### 中断请求

## DMA方式